{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport authApi from '../api/auth';\nexport default _s(() => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [usernameValid, setUsernameValid] = useState(false);\n  const [password, setPassword] = useState('');\n  const [passwordValid, setPasswordValid] = useState(false);\n  const [error, setError] = useState(null);\n  const alphanumregex = /^[a-zA-Z0-9_]*$/;\n  useEffect(() => {\n    if (username.length >= 6 && alphanumregex.test(username)) {\n      setUsernameValid(true);\n    } else {\n      setUsernameValid(false);\n    }\n  }, [username]);\n  useEffect(() => {\n    if (password.length >= 6 && alphanumregex.test(password)) {\n      setPasswordValid(true);\n    } else {\n      setPasswordValid(false);\n    }\n  }, [password]);\n  const submit = async e => {\n    e.preventDefault();\n    if (usernameValid && passwordValid) {\n      try {\n        await authApi.createUser(username, password);\n      } catch (err) {\n        if (err instanceof Error) {\n          setError(err.message);\n        }\n      }\n    }\n    // no need for else because button will be disabled\n  };\n\n  return [username, setUsername, password, setPassword, submit, error, usernameValid, passwordValid];\n}, \"w1TxDLuUpT3xgewruEVCoVZR2oE=\");","map":{"version":3,"names":["useEffect","useState","authApi","username","setUsername","usernameValid","setUsernameValid","password","setPassword","passwordValid","setPasswordValid","error","setError","alphanumregex","length","test","submit","e","preventDefault","createUser","err","Error","message"],"sources":["/home/f/Documents/re_btf/frontend/src/components/useLogin.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport authApi from '../api/auth'\n\nexport default () => {\n    const [username, setUsername] = useState('')\n    const [usernameValid, setUsernameValid] = useState(false)\n    const [password, setPassword] = useState('')\n    const [passwordValid, setPasswordValid] = useState(false)\n    const [error, setError] = useState<null | string>(null)\n\n    const alphanumregex = /^[a-zA-Z0-9_]*$/\n    useEffect(() => {\n        if (username.length >= 6 && alphanumregex.test(username)) {\n            setUsernameValid(true)\n        } else {\n            setUsernameValid(false)\n        }\n    }, [username])\n\n    useEffect(() => {\n        if (password.length >= 6 && alphanumregex.test(password)) {\n            setPasswordValid(true)\n        } else {\n            setPasswordValid(false)\n        }\n    }, [password])\n\n    const submit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault()\n        if (usernameValid && passwordValid) {\n            try {\n                await authApi.createUser(username, password)\n            } catch (err) {\n                if (err instanceof Error) {\n                    setError(err.message)\n                }\n            }\n        }\n        // no need for else because button will be disabled\n    }\n\n    return [username, setUsername, password, setPassword, submit, error, usernameValid, passwordValid] as const\n}\n"],"mappings":";AAAA,SAAgBA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,aAAa;AAEjC,kBAAe,MAAM;EAAA;EACjB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGH,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACI,aAAa,EAAEC,gBAAgB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMY,aAAa,GAAG,iBAAiB;EACvCb,SAAS,CAAC,MAAM;IACZ,IAAIG,QAAQ,CAACW,MAAM,IAAI,CAAC,IAAID,aAAa,CAACE,IAAI,CAACZ,QAAQ,CAAC,EAAE;MACtDG,gBAAgB,CAAC,IAAI,CAAC;IAC1B,CAAC,MAAM;MACHA,gBAAgB,CAAC,KAAK,CAAC;IAC3B;EACJ,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEdH,SAAS,CAAC,MAAM;IACZ,IAAIO,QAAQ,CAACO,MAAM,IAAI,CAAC,IAAID,aAAa,CAACE,IAAI,CAACR,QAAQ,CAAC,EAAE;MACtDG,gBAAgB,CAAC,IAAI,CAAC;IAC1B,CAAC,MAAM;MACHA,gBAAgB,CAAC,KAAK,CAAC;IAC3B;EACJ,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,MAAMS,MAAM,GAAG,MAAOC,CAAmC,IAAK;IAC1DA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIb,aAAa,IAAII,aAAa,EAAE;MAChC,IAAI;QACA,MAAMP,OAAO,CAACiB,UAAU,CAAChB,QAAQ,EAAEI,QAAQ,CAAC;MAChD,CAAC,CAAC,OAAOa,GAAG,EAAE;QACV,IAAIA,GAAG,YAAYC,KAAK,EAAE;UACtBT,QAAQ,CAACQ,GAAG,CAACE,OAAO,CAAC;QACzB;MACJ;IACJ;IACA;EACJ,CAAC;;EAED,OAAO,CAACnB,QAAQ,EAAEC,WAAW,EAAEG,QAAQ,EAAEC,WAAW,EAAEQ,MAAM,EAAEL,KAAK,EAAEN,aAAa,EAAEI,aAAa,CAAC;AACtG,CAAC"},"metadata":{},"sourceType":"module"}