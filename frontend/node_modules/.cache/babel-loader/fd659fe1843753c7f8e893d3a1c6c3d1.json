{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport authApi from '../api/auth';\nimport { useNavigate } from 'react-router-dom';\nexport default _s(() => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [usernameValid, setUsernameValid] = useState(false);\n  const [password, setPassword] = useState('');\n  const [passwordValid, setPasswordValid] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const alphanumregex = /^[a-zA-Z0-9_]*$/;\n  useEffect(() => {\n    if (username.length >= 6 && alphanumregex.test(username)) {\n      setUsernameValid(true);\n    } else {\n      setUsernameValid(false);\n    }\n  }, [username]);\n  useEffect(() => {\n    if (password.length >= 6 && alphanumregex.test(password)) {\n      setPasswordValid(true);\n    } else {\n      setPasswordValid(false);\n    }\n  }, [password]);\n  const submit = async e => {\n    e.preventDefault();\n    if (usernameValid && passwordValid) {\n      try {\n        await authApi.createUser(username, password);\n        navigate('/');\n      } catch (err) {\n        if (err instanceof Error) {\n          setError(err.message);\n        }\n      }\n    }\n    // no need for else because button will be disabled\n  };\n\n  return [username, setUsername, password, setPassword, submit, error, usernameValid, passwordValid];\n}, \"obpLrTcgEshTjwiIJ2BG0gOnjXQ=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useEffect","useState","authApi","useNavigate","username","setUsername","usernameValid","setUsernameValid","password","setPassword","passwordValid","setPasswordValid","error","setError","navigate","alphanumregex","length","test","submit","e","preventDefault","createUser","err","Error","message"],"sources":["/home/f/Documents/re_btf/frontend/src/components/useLogin.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport authApi from '../api/auth'\nimport { useNavigate } from 'react-router-dom'\n\nexport default () => {\n    const [username, setUsername] = useState('')\n    const [usernameValid, setUsernameValid] = useState(false)\n    const [password, setPassword] = useState('')\n    const [passwordValid, setPasswordValid] = useState(false)\n    const [error, setError] = useState<null | string>(null)\n\n    const navigate = useNavigate()\n\n    const alphanumregex = /^[a-zA-Z0-9_]*$/\n    useEffect(() => {\n        if (username.length >= 6 && alphanumregex.test(username)) {\n            setUsernameValid(true)\n        } else {\n            setUsernameValid(false)\n        }\n    }, [username])\n\n    useEffect(() => {\n        if (password.length >= 6 && alphanumregex.test(password)) {\n            setPasswordValid(true)\n        } else {\n            setPasswordValid(false)\n        }\n    }, [password])\n\n    const submit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault()\n        if (usernameValid && passwordValid) {\n            try {\n                await authApi.createUser(username, password)\n                navigate('/')\n            } catch (err) {\n                if (err instanceof Error) {\n                    setError(err.message)\n                }\n            }\n        }\n        // no need for else because button will be disabled\n    }\n\n    return [username, setUsername, password, setPassword, submit, error, usernameValid, passwordValid] as const\n}\n"],"mappings":";AAAA,SAAgBA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,aAAa;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,kBAAe,MAAM;EAAA;EACjB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACK,aAAa,EAAEC,gBAAgB,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMa,QAAQ,GAAGX,WAAW,EAAE;EAE9B,MAAMY,aAAa,GAAG,iBAAiB;EACvCf,SAAS,CAAC,MAAM;IACZ,IAAII,QAAQ,CAACY,MAAM,IAAI,CAAC,IAAID,aAAa,CAACE,IAAI,CAACb,QAAQ,CAAC,EAAE;MACtDG,gBAAgB,CAAC,IAAI,CAAC;IAC1B,CAAC,MAAM;MACHA,gBAAgB,CAAC,KAAK,CAAC;IAC3B;EACJ,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEdJ,SAAS,CAAC,MAAM;IACZ,IAAIQ,QAAQ,CAACQ,MAAM,IAAI,CAAC,IAAID,aAAa,CAACE,IAAI,CAACT,QAAQ,CAAC,EAAE;MACtDG,gBAAgB,CAAC,IAAI,CAAC;IAC1B,CAAC,MAAM;MACHA,gBAAgB,CAAC,KAAK,CAAC;IAC3B;EACJ,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,MAAMU,MAAM,GAAG,MAAOC,CAAmC,IAAK;IAC1DA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAId,aAAa,IAAII,aAAa,EAAE;MAChC,IAAI;QACA,MAAMR,OAAO,CAACmB,UAAU,CAACjB,QAAQ,EAAEI,QAAQ,CAAC;QAC5CM,QAAQ,CAAC,GAAG,CAAC;MACjB,CAAC,CAAC,OAAOQ,GAAG,EAAE;QACV,IAAIA,GAAG,YAAYC,KAAK,EAAE;UACtBV,QAAQ,CAACS,GAAG,CAACE,OAAO,CAAC;QACzB;MACJ;IACJ;IACA;EACJ,CAAC;;EAED,OAAO,CAACpB,QAAQ,EAAEC,WAAW,EAAEG,QAAQ,EAAEC,WAAW,EAAES,MAAM,EAAEN,KAAK,EAAEN,aAAa,EAAEI,aAAa,CAAC;AACtG,CAAC;EAAA,QAnCoBP,WAAW;AAAA"},"metadata":{},"sourceType":"module"}