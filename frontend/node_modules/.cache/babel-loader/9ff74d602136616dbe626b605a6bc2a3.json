{"ast":null,"code":"import axios, { AxiosError } from 'axios';\nconst base = axios.create({\n  baseURL: 'http://localhost:9000/user',\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true\n});\nconst authApi = {\n  auth: async () => {\n    try {\n      const response = await base.get('auth');\n      console.log(response);\n      return response.data;\n    } catch (err) {\n      if (err instanceof AxiosError) {\n        var _err$response;\n        //@ts-ignore\n        throw new Error((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data.msg);\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }\n  },\n  createUser: async (username, password) => {\n    try {\n      const response = await base.post('create', {\n        username,\n        password\n      });\n      return response.data;\n    } catch (err) {\n      if (err instanceof AxiosError) {\n        var _err$response2;\n        //@ts-ignore\n        throw new Error((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data.msg);\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }\n  },\n  login: async (username, password) => {\n    try {\n      const response = await base.post('login', {\n        username,\n        password\n      });\n      return response.data;\n    } catch (err) {\n      if (err instanceof AxiosError) {\n        var _err$response3;\n        //@ts-ignore\n        throw new Error((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data.msg);\n      } else {\n        throw new Error('Something went wrong');\n      }\n    }\n  }\n};\nexport default authApi;","map":{"version":3,"names":["axios","AxiosError","base","create","baseURL","timeout","headers","withCredentials","authApi","auth","response","get","console","log","data","err","Error","msg","createUser","username","password","post","login"],"sources":["/home/f/Documents/re_btf/frontend/src/api/auth.tsx"],"sourcesContent":["import axios, { Axios, AxiosError } from 'axios'\n\nconst base = axios.create({\n    baseURL: 'http://localhost:9000/user',\n    timeout: 5000,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    withCredentials: true,\n})\n\nconst authApi = {\n    auth: async () => {\n        try {\n            const response = await base.get('auth')\n            console.log(response)\n            return response.data\n        } catch (err) {\n            if (err instanceof AxiosError) {\n                //@ts-ignore\n                throw new Error(err.response?.data.msg)\n            } else {\n                throw new Error('Something went wrong')\n            }\n        }\n    },\n    createUser: async (username: string, password: string) => {\n        try {\n            const response = await base.post('create', { username, password })\n            return response.data\n        } catch (err) {\n            if (err instanceof AxiosError) {\n                //@ts-ignore\n                throw new Error(err.response?.data.msg)\n            } else {\n                throw new Error('Something went wrong')\n            }\n        }\n    },\n    login: async (username: string, password: string) => {\n        try {\n            const response = await base.post('login', { username, password })\n            return response.data\n        } catch (err) {\n            if (err instanceof AxiosError) {\n                //@ts-ignore\n                throw new Error(err.response?.data.msg)\n            } else {\n                throw new Error('Something went wrong')\n            }\n        }\n    },\n}\n\nexport default authApi\n"],"mappings":"AAAA,OAAOA,KAAK,IAAWC,UAAU,QAAQ,OAAO;AAEhD,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAM,CAAC;EACtBC,OAAO,EAAE,4BAA4B;EACrCC,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB,CAAC;EACDC,eAAe,EAAE;AACrB,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAG;EACZC,IAAI,EAAE,YAAY;IACd,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMR,IAAI,CAACS,GAAG,CAAC,MAAM,CAAC;MACvCC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrB,OAAOA,QAAQ,CAACI,IAAI;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV,IAAIA,GAAG,YAAYd,UAAU,EAAE;QAAA;QAC3B;QACA,MAAM,IAAIe,KAAK,kBAACD,GAAG,CAACL,QAAQ,kDAAZ,cAAcI,IAAI,CAACG,GAAG,CAAC;MAC3C,CAAC,MAAM;QACH,MAAM,IAAID,KAAK,CAAC,sBAAsB,CAAC;MAC3C;IACJ;EACJ,CAAC;EACDE,UAAU,EAAE,OAAOC,QAAgB,EAAEC,QAAgB,KAAK;IACtD,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAMR,IAAI,CAACmB,IAAI,CAAC,QAAQ,EAAE;QAAEF,QAAQ;QAAEC;MAAS,CAAC,CAAC;MAClE,OAAOV,QAAQ,CAACI,IAAI;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV,IAAIA,GAAG,YAAYd,UAAU,EAAE;QAAA;QAC3B;QACA,MAAM,IAAIe,KAAK,mBAACD,GAAG,CAACL,QAAQ,mDAAZ,eAAcI,IAAI,CAACG,GAAG,CAAC;MAC3C,CAAC,MAAM;QACH,MAAM,IAAID,KAAK,CAAC,sBAAsB,CAAC;MAC3C;IACJ;EACJ,CAAC;EACDM,KAAK,EAAE,OAAOH,QAAgB,EAAEC,QAAgB,KAAK;IACjD,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAMR,IAAI,CAACmB,IAAI,CAAC,OAAO,EAAE;QAAEF,QAAQ;QAAEC;MAAS,CAAC,CAAC;MACjE,OAAOV,QAAQ,CAACI,IAAI;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV,IAAIA,GAAG,YAAYd,UAAU,EAAE;QAAA;QAC3B;QACA,MAAM,IAAIe,KAAK,mBAACD,GAAG,CAACL,QAAQ,mDAAZ,eAAcI,IAAI,CAACG,GAAG,CAAC;MAC3C,CAAC,MAAM;QACH,MAAM,IAAID,KAAK,CAAC,sBAAsB,CAAC;MAC3C;IACJ;EACJ;AACJ,CAAC;AAED,eAAeR,OAAO"},"metadata":{},"sourceType":"module"}